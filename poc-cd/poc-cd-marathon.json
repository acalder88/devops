{
   "id":"/poc-cd",
   "apps":[
      {
         "id":"poc-dc",
         "cmd":"/TaskListRunner.sh",
         "instances":1,
         "cpus":0.5,
         "mem":1024,
         "constraints":[
            [
               "rack",
               "LIKE",
               "scheduler"
            ]
         ],
         "acceptedResourceRoles":[
            "slave_public"
         ],
         "container":{
            "type":"DOCKER",
            "volumes":[
               {
                  "containerPath":"/usr/local",
                  "hostPath":"/var/lib/xtiva-toolbox",
                  "mode":"RO"
               }
            ],
            "docker":{
               "image":"775504875675.dkr.ecr.us-east-1.amazonaws.com/development/poc-cd:{{TAG}}",
               "network":"BRIDGE",
               "portMappings":[
                  {
                     "containerPort":8080,
                     "hostPort":0,
                     "servicePort":0,
                     "protocol":"tcp"
                  }
               ],
               "privileged":true,
               "parameters":[

               ],
               "forcePullImage":true
            }
         },
         "uris":[
            "file:///etc/docker.tar.gz"
         ],
         "healthChecks":[
            {
               "path":"/api/health",
               "protocol":"HTTP",
               "portIndex":0,
               "gracePeriodSeconds":120,
               "intervalSeconds":15,
               "timeoutSeconds":5,
               "maxConsecutiveFailures":0,
               "ignoreHttp1xx":false
            }
         ],
         "env":{
            "JAVA_XMX":"-Xmx756m",
            "CASSANDRA_APP_ID":"/cassandra",
            "KAFKA_APP_ID":"/kafka",
            "KAFKA_APPS_TOPIC":"sd_apps",
            "SAASADMIN_ID":"{{SAASADMIN_ID}}"
         }
      }
   ]
}
